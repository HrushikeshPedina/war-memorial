<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vayu Yoddha Sthal</title>

<style>
/* ================= Base ================= */
body {
    margin: 0;
    min-height: 100vh;
    font-family: "Georgia", "Times New Roman", serif;
    background:
        linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)),
        url("images/background.jpg") center / cover no-repeat fixed;
    color: #3b2f1e;
    display: flex;
    justify-content: center;
}

/* ================= Medal Images ================= */
.medal {
    position: fixed;
    top: 14px;
    width: 220px;
    height: auto;
    z-index: 1000;
    filter: drop-shadow(0 8px 18px rgba(0,0,0,0.5));
}

.medal-left { left: 14px; }
.medal-right { right: 14px; }

@media (max-width: 480px) {
    .medal { width: 100px; }
}

/* ================= Card Position ================= */
.wrapper {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-top: 32vh;
}

/* ================= Card ================= */
.card {
    width: 90%;
    max-width: 440px;
    background: #ffffff;
    border-radius: 20px;
    padding: 26px 22px;
    box-shadow: 0 14px 36px rgba(0,0,0,0.2);
}

/* ================= Text ================= */
h1 {
    font-size: 1.5rem;
    margin: 6px 0;
    text-align: center;
    letter-spacing: 0.8px;
}

.subtitle {
    font-size: 0.9rem;
    text-align: center;
    opacity: 0.7;
    margin-bottom: 14px;
}

.card p {
    font-size: 0.93rem;
    line-height: 1.6;
    color: #4a4030;
    margin-bottom: 12px;
}

/* ================= Language Buttons ================= */
.lang-buttons {
    display: flex;
    gap: 12px;
    margin-top: 10px;
}

.lang-buttons button {
    flex: 1;
    padding: 14px;
    font-size: 0.95rem;
    border-radius: 12px;
    border: 1px solid #d6c7a1;
    background: #f2efe9;
    cursor: pointer;
}

/* Auto-highlight selected language */
.lang-buttons button.active {
    background: #6b5329;
    color: #ffffff;
    border-color: #6b5329;
}

/* ================= Audio Player ================= */
.audio-player {
    margin-top: 12px;
}

.controls {
    display: flex;
    align-items: center;
    gap: 10px;
}

.play-btn {
    width: 46px;
    height: 46px;
    border-radius: 50%;
    border: none;
    background: #6b5329;
    color: #fff;
    font-size: 1.1rem;
    cursor: pointer;
}

/* Seekable progress bar */
.progress {
    flex: 1;
    height: 8px;
    background: #ddd6c8;
    border-radius: 8px;
    overflow: hidden;
    position: relative;
    cursor: pointer;
}

.progress-bar {
    height: 100%;
    width: 0%;
    background: #6b5329;
}

/* Invisible input slider for drag support */
.seek {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
}

.time {
    font-size: 0.78rem;
    opacity: 0.7;
    margin-top: 3px;
    text-align: right;
}

/* ================= Bottom Line ================= */
.bottom-line {
    margin-top: 18px;
    padding-top: 12px;
    border-top: 1px solid #e2dacb;
    font-size: 0.85rem;
    text-align: center;
    color: #6b5329;
}
</style>
</head>

<body>

<!-- Medals -->
<img src="images/medal.png" class="medal medal-left" alt="Gallantry Medal Left">
<img src="images/medal.png" class="medal medal-right" alt="Gallantry Medal Right">

<div class="wrapper">
<div class="card">

<h1>VAYU YODDHA STHAL</h1>
<h1>वायु योद्धा स्थल</h1>
<div class="subtitle">Eternal Warriors Park</div>

<p>
This memorial commemorates the supreme valour and sacrifice of India’s
Air Warriors. The park houses 21 busts of gallantry award recipients.
</p>

<p>
Use the audio guide below to know about Vayu Yoddha Sthal.
</p>

<p><strong>Select Language / भाषा चुनें</strong></p>

<div class="lang-buttons">
    <button onclick="loadAudio('en')">English</button>
    <button onclick="loadAudio('hi')">हिंदी</button>
</div>

<div class="audio-player">
<div class="controls">
<button class="play-btn" onclick="togglePlay()">▶</button>

<div class="progress" onclick="seek(event)">
    <div class="progress-bar" id="progressBar"></div>
    <input type="range" min="0" max="100" value="0"
           class="seek" oninput="dragSeek(this.value)">
</div>
</div>
<div class="time" id="time">0:00 / 0:00</div>
</div>

<div class="bottom-line">
Scan QR code at each bust to listen to the individual story of valour
</div>

<audio id="audio"></audio>

</div>
</div>

<script>
const audio = document.getElementById("audio");
const progressBar = document.getElementById("progressBar");
const seekInput = document.querySelector(".seek");
const time = document.getElementById("time");
const playBtn = document.querySelector(".play-btn");
const langButtons = document.querySelectorAll(".lang-buttons button");

function loadAudio(lang) {
    audio.src = lang === "hi"
        ? "audio/intro-hi.mp3"
        : "audio/intro-en.mp3";

    audio.play();
    playBtn.textContent = "❚❚";

    /* Auto-highlight selected language */
    langButtons.forEach(btn => btn.classList.remove("active"));
    if (lang === "hi") {
        langButtons[1].classList.add("active");
    } else {
        langButtons[0].classList.add("active");
    }
}

function togglePlay() {
    if (!audio.src) return;
    if (audio.paused) {
        audio.play();
        playBtn.textContent = "❚❚";
    } else {
        audio.pause();
        playBtn.textContent = "▶";
    }
}

audio.addEventListener("timeupdate", () => {
    if (!audio.duration) return;
    const percent = (audio.currentTime / audio.duration) * 100;
    progressBar.style.width = percent + "%";
    seekInput.value = percent;
    time.textContent =
        `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
});

function seek(event) {
    const rect = event.currentTarget.getBoundingClientRect();
    const percent = (event.clientX - rect.left) / rect.width;
    audio.currentTime = percent * audio.duration;
}

function dragSeek(value) {
    audio.currentTime = (value / 100) * audio.duration;
}

audio.addEventListener("ended", () => {
    playBtn.textContent = "▶";
});

function formatTime(sec) {
    const m = Math.floor(sec / 60);
    const s = Math.floor(sec % 60).toString().padStart(2, "0");
    return `${m}:${s}`;
}
</script>

</body>
</html>
